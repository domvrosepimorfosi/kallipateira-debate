<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ± â€“ Debate: ÎÏŒÎ¼Î¿Ï‚ vs Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --bg: #fdfbf7;
      --card-bg: #ffffff;
      /* Î§ÏÏ…ÏƒÏŒ/Î Î¿ÏÏ„Î¿ÎºÎ±Î»Î¯ Î³Î¹Î± Ï„Î·Î½ "ÎŸÎ»Ï…Î¼Ï€Î¹Î±ÎºÎ®" Î±Ï„Î¼ÏŒÏƒÏ†Î±Î¹ÏÎ± */
      --accent: #f57f17; 
      --accent-soft: #ffe0b2;
      --accent-alt: #0277bd; /* ÎœÏ€Î»Îµ Î³Î¹Î± Ï„Î¿Ï…Ï‚ Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚/ÎÏŒÎ¼Î¿ */
      --text-main: #263238;
      --text-muted: #546e7a;
      --border: #cfd8dc;
    }

    * { box-sizing: border-box; font-family: system-ui, -apple-system, sans-serif; }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #fff8e1 0, #fdfbf7 40%, #eceff1 100%);
      color: var(--text-main);
    }

    /* --- Header --- */
    header { padding: 1.2rem 1rem 0.3rem; text-align: center; }
    .title-row { display: flex; align-items: center; justify-content: center; gap: 1rem; flex-wrap: wrap; }
    .site-logo { height: 60px; width: auto; }
    header h1 { margin: 0.2rem 0; font-size: 1.8rem; color: var(--accent); text-transform: uppercase; letter-spacing: 1px; }
    header p { margin: 0.5rem 0 0.4rem; color: var(--text-muted); font-size: 1rem; text-align: center; font-weight: 500; }

    main { max-width: 950px; margin: 0 auto 2rem; padding: 0 1rem 2rem; }

    /* --- Step Indicator --- */
    .step-indicator { display: flex; justify-content: center; gap: 0.4rem; margin: 0.5rem 0 1.5rem; flex-wrap: wrap; }
    .step-dot { width: 10px; height: 10px; border-radius: 50%; background: #cfd8dc; transition: transform 0.2s, background 0.2s; }
    .step-dot.active { background: var(--accent); transform: scale(1.2); }

    /* --- Cards & Steps --- */
    .card {
      background: var(--card-bg); border-radius: 12px; padding: 1.4rem 1.3rem;
      box-shadow: 0 10px 28px rgba(0, 0, 0, 0.04); border: 1px solid var(--border); margin-bottom: 1rem;
    }
    .step { display: none; }
    .step.active { display: block; animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn { from {opacity: 0; transform: translateY(6px);} to {opacity: 1; transform: translateY(0);} }

    h2 { margin-top: 0; font-size: 1.3rem; color: var(--accent); }
    h3 { margin-top: 0.8rem; font-size: 1.1rem; color: var(--text-main); }
    p { font-size: 0.96rem; line-height: 1.6; text-align: justify; }

    /* --- Image Fix (20% Smaller) --- */
    .cover-image {
      display: block;
      width: 70%;         /* ÎœÎµÎ¹Ï‰Î¼Î­Î½Î¿ Ï€Î»Î¬Ï„Î¿Ï‚ (Î®Ï„Î±Î½ 100%) */
      height: auto;       
      max-height: 300px;  
      object-fit: contain; 
      margin: 0.5rem auto 1.5rem; /* Î¤Î¿ auto ÏƒÏ„Î¿ margin Ï„Î·Î½ ÎºÎµÎ½Ï„ÏÎ¬ÏÎµÎ¹ */
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* --- Metadata Inputs inside Card --- */
    .meta-inputs-card {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.8rem;
      margin: 1rem 0;
      background: #fff8e1; /* Î•Î»Î±Ï†ÏÏ Ï‡ÏÏ…ÏƒÏŒ Ï†ÏŒÎ½Ï„Î¿ */
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #ffe0b2;
    }
    .meta-inputs-card label {
      font-size: 0.85rem; font-weight: bold; color: #e65100; display: block; margin-bottom: 0.3rem;
    }

    /* --- Poem Styling --- */
    .poem-box {
      background: #fff8e1; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent);
      font-family: 'Georgia', serif; font-size: 1.05rem; line-height: 1.8; white-space: pre-wrap; position: relative;
    }
    .glossary-word { color: #e65100; font-weight: bold; cursor: help; text-decoration: underline dotted; position: relative; }
    .glossary-word::after {
      content: attr(data-def); position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%);
      background: #37474f; color: #fff; padding: 0.4rem 0.8rem; border-radius: 6px; font-size: 0.85rem;
      white-space: nowrap; opacity: 0; pointer-events: none; transition: opacity 0.2s;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2); font-family: sans-serif; z-index: 100;
    }
    .glossary-word:hover::after { opacity: 1; }

    /* --- Buttons --- */
    .btn-row { display: flex; justify-content: space-between; margin-top: 1rem; gap: 0.5rem; flex-wrap: wrap; }
    button {
      border: none; border-radius: 999px; padding: 0.5rem 1.2rem; font-size: 0.95rem; cursor: pointer;
      background: var(--accent); color: white; box-shadow: 0 4px 10px rgba(245, 127, 23, 0.25); transition: transform 0.1s;
    }
    button.secondary { background: #eceff1; color: #455a64; box-shadow: none; }
    button.small { padding: 0.3rem 0.8rem; font-size: 0.85rem; }
    button:hover { transform: translateY(-1px); }

    /* --- Inputs --- */
    input[type="number"], input[type="text"], input[type="date"], textarea, select {
      width: 100%; padding: 0.5rem; border-radius: 8px; border: 1px solid var(--border);
      font-size: 0.95rem; margin: 0.2rem 0 0.5rem; outline: none; background: #fafafa;
    }
    textarea { min-height: 70px; resize: vertical; }
    input:focus, textarea:focus { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent-soft); background: #fff; }

    /* --- Dynamic Argument Cards --- */
    .arg-card {
      border-radius: 10px; border: 1px dashed var(--border); padding: 0.6rem; margin-top: 0.5rem; background: #fff;
    }
    .arg-card-title { font-size: 0.9rem; font-weight: 600; color: var(--text-muted); margin-bottom: 0.3rem; }

    /* --- Grid & Role Boxes --- */
    .grid-2 { display: grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap: 1rem; margin-top: 0.5rem; }
    .role-box { padding: 0.8rem; border-radius: 10px; border: 1px dashed #b0bec5; background: #fafafa; }
    .role-box.aristocracy { background: #fff3e0; border-color: #ffe0b2; } /* Gold */
    .role-box.law { background: #e1f5fe; border-color: #b3e5fc; } /* Blue */
    .badge { display: inline-block; padding: 0.2rem 0.6rem; border-radius: 20px; font-size: 0.8rem; font-weight: bold; margin-bottom: 0.4rem; }
    .badge.gold { background: #ffe0b2; color: #e65100; }
    .badge.blue { background: #b3e5fc; color: #01579b; }

    /* --- Voting & Charts --- */
    .vote-inputs { display: grid; grid-template-columns: repeat(auto-fit,minmax(120px,1fr)); gap: 0.6rem; margin-top: 0.5rem; }
    .vote-box { background: #f5f5f5; padding: 0.6rem; border-radius: 8px; text-align: center; border: 1px solid #eee; }
    .bar-chart { margin-top: 0.5rem; display: flex; flex-direction: column; gap: 0.3rem; }
    .bar-row { display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; }
    .bar-label { width: 140px; text-align: right; color: var(--text-muted); }
    .bar-track { flex: 1; background: #eceff1; border-radius: 10px; height: 12px; overflow: hidden; }
    .bar-fill { height: 100%; background: var(--accent); }
    .bar-fill.alt { background: var(--accent-alt); }
    .bar-fill.neutral { background: #90a4ae; }

    /* --- Timer --- */
    .timer-container { background: #fff8e1; padding: 1rem; border-radius: 10px; margin-bottom: 1rem; border: 1px solid #ffe0b2; }
    .timer-display { font-size: 2rem; font-weight: 700; text-align: center; margin: 0.5rem 0; color: var(--text-main); }
    .inline-inputs { display: flex; gap: 0.5rem; align-items: center; justify-content: center; flex-wrap: wrap; }
    .inline-inputs input { width: 70px; }

    /* --- Scenarios --- */
    details.scenario { margin-top: 0.6rem; border: 1px solid var(--border); border-radius: 8px; padding: 0.5rem; background: #fbfbfb; }
    details.scenario[open] { background: #fffde7; border-color: #fff9c4; }
    details.scenario summary { cursor: pointer; font-weight: 600; color: var(--text-main); }

    /* --- Rubric Table --- */
    .rubric-table { margin-top: 1rem; width: 100%; border-collapse: collapse; font-size: 0.9rem; }
    .rubric-row { border-bottom: 1px dashed #ddd; display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 10px; padding: 5px 0; align-items: center; }
    .rubric-header { font-weight: bold; border-bottom: 2px solid #ddd; padding-bottom: 5px; }
    .rubric-input { text-align: center; font-weight: bold; padding: 4px; }
    .rubric-col-label { text-align: center; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; }
    .rubric-col-label.kallip { background: #fff3e0; color: #e65100; }
    .rubric-col-label.judges { background: #e1f5fe; color: #01579b; }

    /* --- Footer --- */
    footer { text-align: center; padding: 1rem; font-size: 0.85rem; color: var(--text-muted); margin-top: 2rem; border-top: 1px solid #eee; }

    /* --- Print Styles --- */
    #print-summary { display: none; padding: 2rem; font-size: 11pt; line-height: 1.5; color: black; }
    #print-summary h1 { font-size: 16pt; text-align: center; margin-bottom: 10px; }
    #print-summary h2 { font-size: 13pt; margin-top: 15px; border-bottom: 1px solid #ccc; color: #000; }
    #print-summary h3 { font-size: 11pt; margin-top: 10px; font-weight: bold; }
    #print-summary p, #print-summary li { text-align: justify; margin-bottom: 5px; }
    
    @media print {
      body { background: white; }
      header, main, footer, .no-print { display: none !important; }
      #print-summary { display: block !important; }
      .page-break { page-break-before: always; }
    }
  </style>
</head>
<body>

<header>
  <div class="title-row">
    <img src="greek logo.png" alt="Î›Î¿Î³ÏŒÏ„Ï…Ï€Î¿" class="site-logo">
    <h1>ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ± â€“ Î›Î¿ÏÎ­Î½Ï„Î¶Î¿Ï‚ ÎœÎ±Î²Î¯Î»Î·Ï‚</h1>
  </div>
  <p>Î”Î¿Î¼Î·Î¼Î­Î½Î· Î‘Î½Ï„Î¹Ï€Î±ÏÎ¬Î¸ÎµÏƒÎ·: Î™ÏƒÎ¿Î½Î¿Î¼Î¯Î± vs Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±</p>
  <div class="step-indicator" id="stepIndicator"></div>
</header>

<main>
  <section class="card step active">
    <h2>Î’Î®Î¼Î± 1: Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± ÎŸÎ¼Î¬Î´Î±Ï‚</h2>
    <p>Î£Ï…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ Ï„Î± ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± Ï„Î·Ï‚ Î¿Î¼Î¬Î´Î±Ï‚ ÏƒÎ±Ï‚ Ï€ÏÎ¹Î½ Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÏ„Îµ Ï„Î¿ Debate.</p>
    
    <div class="meta-inputs-card">
      <div>
        <label>ÎŒÎ½Î¿Î¼Î± ÎŸÎ¼Î¬Î´Î±Ï‚ / Î¤Î¼Î®Î¼Î±:</label>
        <input type="text" id="meta-group" placeholder="Ï€.Ï‡. ÎŸÎ¹ ÎŸÎ»Ï…Î¼Ï€Î¹Î¿Î½Î¯ÎºÎµÏ‚ - Î’1">
      </div>
      <div>
        <label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</label>
        <input type="date" id="meta-date">
      </div>
      <div>
        <label>Î¤Î¬Î¾Î· / ÎœÎ¬Î¸Î·Î¼Î±:</label>
        <input type="text" id="meta-class" placeholder="Ï€.Ï‡. Î›Î¿Î³Î¿Ï„ÎµÏ‡Î½Î¯Î±">
      </div>
    </div>

    <div class="btn-row">
      <span></span>
      <button onclick="nextStep()">Î•Î¯ÏƒÎ¿Î´Î¿Ï‚ ÏƒÏ„Î¿ Î£Ï„Î¬Î´Î¹Î¿ âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 2: Î¤Î¿ Î”Î¯Î»Î·Î¼Î¼Î± Ï„Î·Ï‚ Î•Î¾Î±Î¯ÏÎµÏƒÎ·Ï‚</h2>
    <div style="text-align:center;">
      <img src="kallipateira.png" alt="Î— ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ± ÏƒÏ„Î·Î½ ÎŸÎ»Ï…Î¼Ï€Î¯Î±" class="cover-image">
    </div>

    <h3 style="text-align:center;">ÎˆÏ‡ÎµÎ¹ Î´Î¹ÎºÎ±Î¯Ï‰Î¼Î± Î· Â«Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±Â» Î½Î± Ï€Î±ÏÎ±Î²Î±Î¯Î½ÎµÎ¹ Ï„Î¿Î½ ÎÏŒÎ¼Î¿;</h3>
    <p style="text-align:center; max-width:600px; margin:0 auto; color:var(--text-muted);">
      ÎœÎ¹Î± Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„Î± Debate Î²Î±ÏƒÎ¹ÏƒÎ¼Î­Î½Î· ÏƒÏ„Î¿ Ï€Î¿Î¯Î·Î¼Î± Ï„Î¿Ï… Î›Î¿ÏÎ­Î½Ï„Î¶Î¿Ï… ÎœÎ±Î²Î¯Î»Î·.
    </p>
    
    <div class="btn-row no-print" style="justify-content: center;">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">Î”Î¹Î±Î²Î¬ÏƒÏ„Îµ Ï„Î¿ Î Î¿Î¯Î·Î¼Î± âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 3: Î¤Î¿ Î£Î¿Î½Î­Ï„Î¿ Ï„Î¿Ï… ÎœÎ±Î²Î¯Î»Î·</h2>
    <p>Î”Î¹Î±Î²Î¬ÏƒÏ„Îµ Ï„Î·Î½ Î±Ï€Î¿Î»Î¿Î³Î¯Î± Ï„Î·Ï‚ ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±Ï‚ ÏƒÏ„Î¿Ï…Ï‚ Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚.</p>
    
    <div class="poem-box">
AÏÏ‡ÏŒÎ½Ï„Î¹ÏƒÏƒÎ± Î¡Î¿Î´Î¯Ï„Î¹ÏƒÏƒÎ±, Ï€ÏÏ‚ Î¼Ï€Î®ÎºÎµÏ‚;
Î“Ï…Î½Î±Î¯ÎºÎµÏ‚ Î´Î¹ÏÏ‡Î½ÎµÎ¹ Î¼Î¹Î± ÏƒÏ…Î½Î®Î¸ÎµÎ¹Î± Î±ÏÏ‡Î±Î¯Î±
<span class="glossary-word" data-def="Î±Ï€ÏŒ ÎµÎ´Ï">ÎµÎ´ÏÎ¸Îµ*</span>. - ÎˆÏ‡Ï‰ ÎµÎ½' Î±Î½Î¯ÏˆÎ¹, Ï„Î¿Î½ Î•Ï…ÎºÎ»Î­Î±,
Ï„ÏÎ¯' Î±Î´Î­ÏÏ†Î¹Î±, Î³Î¹Î¿, Ï€Î±Ï„Î­ÏÎ± Î¿Î»Ï…Î¼Ï€Î¹Î¿Î½Î¯ÎºÎµÏ‚Â·

Î½Î± Î¼Îµ Î±Ï†Î®ÏƒÎµÏ„Îµ Ï€ÏÎ­Ï€ÎµÎ¹, Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚,
ÎºÎ¹ ÎµÎ³Ï Î½Î± ÎºÎ±Î¼Î±ÏÏÏƒÏ‰ Î¼ÎµÏ‚ ÏƒÏ„Î± Ï‰ÏÎ±Î¯Î±
ÎºÎ¿ÏÎ¼Î¹Î¬, Ï€Î¿Ï… Î³Î¹Î± Ï„' <span class="glossary-word" data-def="ÏƒÏ„ÎµÏ†Î¬Î½Î¹ Î±Î³ÏÎ¹ÎµÎ»Î¹Î¬Ï‚ (Î­Ï€Î±Î¸Î»Î¿)">Î±Î³ÏÎ¯Î»Î¹*</span> Ï„Î¿Ï… Î—ÏÎ±ÎºÎ»Î­Î±
Ï€Î±Î»ÎµÏÎ¿Ï…Î½, <span class="glossary-word" data-def="Î¸Î±Ï…Î¼Î±ÏƒÏ„Î­Ï‚ / Ï…Ï€Î­ÏÎ¿Ï‡ÎµÏ‚">Î¸Î¹Î±Î¼Î±ÏƒÏ„Î­Ï‚*</span> ÏˆÏ…Ï‡Î­Ï‚ Î±Î½Ï„ÏÎ¯ÎºÎ¹ÎµÏ‚.

ÎœÎµ Ï„Î¹Ï‚ Î¬Î»Î»ÎµÏ‚ Î³Ï…Î½Î±Î¯ÎºÎµÏ‚ Î´ÎµÎ½ ÎµÎ¯Î¼' ÏŒÎ¼Î¿Î¹Î±Â·
ÏƒÏ„Î¿Î½ Î±Î¹ÏÎ½Î± Ï„Î¿ ÏƒÏŒÎ¹ Î¼Î¿Ï… Î¸Î± Ï†Î±Î½Ï„Î¬Î¶ÎµÎ¹
Î¼Îµ Ï„Î·Ï‚ Î±Î½Ï„ÏÎµÎ¹Î¬Ï‚ Ï„Î± Î±Î¼Î¬ÏÎ±Î½Ï„Î± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î±.

ÎœÎµ <span class="glossary-word" data-def="Ï‡ÏÏ…ÏƒÎ¬Ï†Î¹">Î¼Î¬Î»Î±Î¼Î±*</span> Î³ÏÎ±Î¼Î¼Î­Î½Î¿Ï‚ Ï„Î¿ Î´Î¿Î¾Î¬Î¶ÎµÎ¹
Ïƒ' Î±ÏƒÏ„ÏÎ±Ï†Ï„ÎµÏÏŒ <span class="glossary-word" data-def="ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ Î¿Î½Î¿Î¼Î¬Ï„Ï‰Î½ Ï‡Î±ÏÎ±Î³Î¼Î­Î½Î¿Ï‚ ÏƒÎµ Î¼Î¬ÏÎ¼Î±ÏÎ¿">ÎºÎ±Ï„ÎµÎ²Î±Ï„ÏŒ Î¼Î±ÏÎ¼Î¬ÏÎ¿Ï…*</span>
ÏÎ¼Î½Î¿Ï‚ Ï‡ÏÏ…ÏƒÏŒÏ‚ Ï„' Î±Î¸Î¬Î½Î±Ï„Î¿Ï… <span class="glossary-word" data-def="ÎŸ ÏƒÏ€Î¿Ï…Î´Î±Î¹ÏŒÏ„ÎµÏÎ¿Ï‚ Î»Ï…ÏÎ¹ÎºÏŒÏ‚ Ï€Î¿Î¹Î·Ï„Î®Ï‚ Ï„Î·Ï‚ Î±ÏÏ‡Î±Î¹ÏŒÏ„Î·Ï„Î±Ï‚">Î Î¹Î½Î´Î¬ÏÎ¿Ï…!*</span>
    </div>
    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® ÏƒÏ„Î¿ Î˜Î­Î¼Î± âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 4: Î— Î£ÏÎ³ÎºÏÎ¿Ï…ÏƒÎ·</h2>
    <p>
      Î£Ï„Î¿ ÎºÎ­Î½Ï„ÏÎ¿ Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Î· ÏƒÏÎ³ÎºÏÎ¿Ï…ÏƒÎ· Î±Î½Î¬Î¼ÎµÏƒÎ± ÏƒÏ„Î·Î½ <strong>Î™ÏƒÎ¿Î½Î¿Î¼Î¯Î±</strong> (Î¿ Î½ÏŒÎ¼Î¿Ï‚ Î¹ÏƒÏ‡ÏÎµÎ¹ Î³Î¹Î± ÏŒÎ»Î¿Ï…Ï‚ Ï‡Ï‰ÏÎ¯Ï‚ ÎµÎ¾Î±Î¹ÏÎ­ÏƒÎµÎ¹Ï‚) 
      ÎºÎ±Î¹ ÏƒÏ„Î·Î½ <strong>Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±/ÎšÎ±Ï„Î±Î³Ï‰Î³Î®</strong> (Î¿Î¹ Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î¿Î¯ Î¬Î½Î¸ÏÏ‰Ï€Î¿Î¹ Î´Î¹ÎºÎ±Î¹Î¿ÏÎ½Ï„Î±Î¹ ÎµÎ¹Î´Î¹ÎºÎ®Ï‚ Î¼ÎµÏ„Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚).
    </p>
    <p>
      Î— ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ± Î´ÎµÎ½ Î±ÏÎ½ÎµÎ¯Ï„Î±Î¹ ÏŒÏ„Î¹ Ï€Î±ÏÎ­Î²Î· Ï„Î¿Î½ Î½ÏŒÎ¼Î¿. Î¥Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ ÏŒÎ¼Ï‰Ï‚ ÏŒÏ„Î¹ <em>Â«Î¼Îµ Ï„Î¹Ï‚ Î¬Î»Î»ÎµÏ‚ Î³Ï…Î½Î±Î¯ÎºÎµÏ‚ Î´ÎµÎ½ ÎµÎ¯Î½' ÏŒÎ¼Î¿Î¹Î±Â»</em>.
    </p>
    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">Î‘ÏÏ‡Î¹ÎºÎ® Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯Î± âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 5: Î‘ÏÏ‡Î¹ÎºÎ® Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯Î±</h2>
    <p>Â«Î Î¿Î¹Î¿Î½ Î´Î¹ÎºÎ±Î¹ÏÎ½ÎµÏ„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ¿ Î¼Î­ÏƒÎ± ÏƒÎ±Ï‚ Ï€ÏÎ¹Î½ Ï„Î¿ debate;Â»</p>
    <div class="vote-inputs">
      <div class="vote-box">
        <strong>Î¥Ï€Î­Ï ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±Ï‚</strong><br><small>(Î•Î¾Î±Î¯ÏÎµÏƒÎ· Î»ÏŒÎ³Ï‰ Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±Ï‚)</small>
        <input type="number" id="pre-kallip" min="0" value="0">
      </div>
      <div class="vote-box">
        <strong>Î¥Ï€Î­Ï Î•Î»Î»Î±Î½Î¿Î´Î¹ÎºÏÎ½</strong><br><small>(Î™ÏƒÎ¿Î½Î¿Î¼Î¯Î± & Î¤Î®ÏÎ·ÏƒÎ· ÎÏŒÎ¼Î¿Ï…)</small>
        <input type="number" id="pre-judges" min="0" value="0">
      </div>
      <div class="vote-box">
        <strong>Î”ÎµÎ½ ÎµÎ¯Î¼Î±Î¹ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Ï‚/Î·</strong>
        <input type="number" id="pre-unsure" min="0" value="0">
      </div>
    </div>
    <button class="small no-print" onclick="calcPreVote()">Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ & Î“ÏÎ¬Ï†Î·Î¼Î±</button>
    <div id="pre-results" style="margin-top:0.5rem;"></div>
    <div id="pre-chart" class="bar-chart"></div>

    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">ÎŸÎ¼Î¬Î´ÎµÏ‚ & Î¡ÏŒÎ»Î¿Î¹ âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 6: ÎŸÎ¼Î¬Î´ÎµÏ‚ & Î¡ÏŒÎ»Î¿Î¹</h2>
    <div class="grid-2">
      <div class="role-box aristocracy">
        <div class="badge gold">ğŸ¦ ÎŸÎ¼Î¬Î´Î± "Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±"</div>
        <p>Î¥Ï€ÎµÏÎ±ÏƒÏ€Î¯Î¶ÎµÏƒÏ„Îµ Ï„Î·Î½ ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±. Î— Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ¬ Ï„Î·Ï‚ Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î¬Ï‚ Ï„Î·Ï‚ ÏƒÏ„Î·Î½ Ï€Î±Ï„ÏÎ¯Î´Î± ÎµÎ¯Î½Î±Î¹ Ï„ÎµÏÎ¬ÏƒÏ„Î¹Î±. ÎŸÎ¹ "Î†ÏÎ¹ÏƒÏ„Î¿Î¹" Î´ÎµÎ½ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¾Î¹ÏƒÏÎ½Î¿Î½Ï„Î±Î¹ Î¼Îµ Ï„Î¿ Ï€Î»Î®Î¸Î¿Ï‚.</p>
      </div>
      <div class="role-box law">
        <div class="badge blue">âš–ï¸ ÎŸÎ¼Î¬Î´Î± "Î™ÏƒÎ¿Î½Î¿Î¼Î¯Î±"</div>
        <p>Î¥Ï€ÎµÏÎ±ÏƒÏ€Î¯Î¶ÎµÏƒÏ„Îµ Ï„Î¿Ï…Ï‚ Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚. ÎŸ Î½ÏŒÎ¼Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Ï„Ï…Ï†Î»ÏŒÏ‚. Î‘Î½ Î±ÏÏ‡Î¯ÏƒÎ¿Ï…Î¼Îµ Ï„Î¹Ï‚ ÎµÎ¾Î±Î¹ÏÎ­ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î¿Ï…Ï‚ "ÎµÏ€ÏÎ½Ï…Î¼Î¿Ï…Ï‚", ÎºÎ±Ï„Î±Î»ÏÎµÏ„Î±Î¹ Î· Î´Î¹ÎºÎ±Î¹Î¿ÏƒÏÎ½Î·.</p>
      </div>
    </div>
    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">Î¤ÏÎ¬Ï€ÎµÎ¶Î± Î•Ï€Î¹Ï‡ÎµÎ¹ÏÎ·Î¼Î¬Ï„Ï‰Î½ âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 7: Î¤ÏÎ¬Ï€ÎµÎ¶Î± Î•Ï€Î¹Ï‡ÎµÎ¹ÏÎ·Î¼Î¬Ï„Ï‰Î½</h2>
    <p>Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î¬ÏƒÏ„Îµ Ï„Î± ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ®Î¼Î±Ï„Î¬ ÏƒÎ±Ï‚. Î£Ï…Î½Î´Î­ÏƒÏ„Îµ Ï„Î± Î¼Îµ Ï„Î¿ Ï€Î¿Î¯Î·Î¼Î± Î±Î»Î»Î¬ ÎºÎ±Î¹ Î¼Îµ Ï„Î¿ ÏƒÎ®Î¼ÎµÏÎ±.</p>
    
    <div class="grid-2">
      <div>
        <h3>ğŸ¦ Î•Ï€Î¹Ï‡ÎµÎ¹ÏÎ®Î¼Î±Ï„Î± ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±Ï‚</h3>
        <div id="kallip-arguments"></div>
        <button class="small no-print" onclick="addArgumentCard('kallip')">â• Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ®Î¼Î±Ï„Î¿Ï‚</button>
      </div>
      <div>
        <h3>âš–ï¸ Î•Ï€Î¹Ï‡ÎµÎ¹ÏÎ®Î¼Î±Ï„Î± Î•Î»Î»Î±Î½Î¿Î´Î¹ÎºÏÎ½</h3>
        <div id="judges-arguments"></div>
        <button class="small no-print" onclick="addArgumentCard('judges')">â• Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ®Î¼Î±Ï„Î¿Ï‚</button>
      </div>
    </div>
    
    <div class="btn-row no-print" style="margin-top:1rem;">
      <button class="small secondary" onclick="printArguments()">ğŸ–¨ï¸ Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ· Î•Ï€Î¹Ï‡ÎµÎ¹ÏÎ·Î¼Î¬Ï„Ï‰Î½</button>
    </div>

    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">Î£ÎµÎ½Î¬ÏÎ¹Î± & Î£Ï…Î¶Î®Ï„Î·ÏƒÎ· âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 8: Î£ÏÎ³Ï‡ÏÎ¿Î½Î± Î”Î¹Î»Î®Î¼Î¼Î±Ï„Î±</h2>
    <p>Î•Î¾ÎµÏ„Î¬ÏƒÏ„Îµ Ï€ÏÏ‚ ÎµÏ†Î±ÏÎ¼ÏŒÎ¶ÎµÏ„Î±Î¹ Ï„Î¿ Î´Î¯Î»Î·Î¼Î¼Î± ÏƒÏ„Î· ÏƒÎ·Î¼ÎµÏÎ¹Î½Î® ÎµÏ€Î¿Ï‡Î®.</p>

    <details class="scenario" data-kallip-id="sc1-k" data-judges-id="sc1-j">
      <summary>â­ Î£ÎµÎ½Î¬ÏÎ¹Î¿ 1: ÎŸ Â«Î”Î¹Î¬ÏƒÎ·Î¼Î¿Ï‚Â» Î Î±ÏÎ±Î²Î¬Ï„Î·Ï‚</summary>
      <p>ÎˆÎ½Î±Ï‚ ÎµÎ¸Î½Î¹ÎºÏŒÏ‚ ÎµÏ…ÎµÏÎ³Î­Ï„Î·Ï‚ Î® Î´Î¹Î¬ÏƒÎ·Î¼Î¿Ï‚ ÎµÏ€Î¹ÏƒÏ„Î®Î¼Î¿Î½Î±Ï‚ ÏƒÏ…Î»Î»Î±Î¼Î²Î¬Î½ÎµÏ„Î±Î¹ Î³Î¹Î± Ï†Î¿ÏÎ¿Î´Î¹Î±Ï†Ï…Î³Î®. Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï„Î¹Î¼Ï‰ÏÎ·Î¸ÎµÎ¯ ÏŒÏ€Ï‰Ï‚ ÏŒÎ»Î¿Î¹ Î® Î½Î± Ï…Ï€Î¬ÏÎ¾ÎµÎ¹ ÎµÏ€Î¹ÎµÎ¯ÎºÎµÎ¹Î± Î»ÏŒÎ³Ï‰ Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ¬Ï‚;</p>
      <div class="grid-2">
        <textarea id="sc1-k" placeholder="Î†Ï€Î¿ÏˆÎ· Ï…Ï€Î­Ï ÎµÏ€Î¹ÎµÎ¯ÎºÎµÎ¹Î±Ï‚ (Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±)..."></textarea>
        <textarea id="sc1-j" placeholder="Î†Ï€Î¿ÏˆÎ· Ï…Ï€Î­Ï Î±Ï…ÏƒÏ„Î·ÏÏŒÏ„Î·Ï„Î±Ï‚ (Î™ÏƒÎ¿Î½Î¿Î¼Î¯Î±)..."></textarea>
      </div>
    </details>

    <details class="scenario" data-kallip-id="sc2-k" data-judges-id="sc2-j">
      <summary>ğŸ‘” Î£ÎµÎ½Î¬ÏÎ¹Î¿ 2: ÎšÎ»Î·ÏÎ¿Î½Î¿Î¼Î¹ÎºÎ® Î‘Î¾Î¯Î± (ÎÎµÏ€Î¿Ï„Î¹ÏƒÎ¼ÏŒÏ‚)</summary>
      <p>Î ÏÎ­Ï€ÎµÎ¹ Ï„Î± Ï€Î±Î¹Î´Î¹Î¬ Î·ÏÏÏ‰Î½ Î® ÏƒÏ€Î¿Ï…Î´Î±Î¯Ï‰Î½ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¿Ï„Î®Ï„Ï‰Î½ Î½Î± Î­Ï‡Î¿Ï…Î½ Ï€ÏÎ¿Ï„ÎµÏÎ±Î¹ÏŒÏ„Î·Ï„Î± ÏƒÎµ Î¸Î­ÏƒÎµÎ¹Ï‚ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î® Ï€Î±Î½ÎµÏ€Î¹ÏƒÏ„Î®Î¼Î¹Î± Î»ÏŒÎ³Ï‰ Ï„Î·Ï‚ Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î¬Ï‚ Ï„Î¿Ï…Ï‚;</p>
      <div class="grid-2">
        <textarea id="sc2-k" placeholder="Î¥Ï€Î­Ï ÎºÎ»Î·ÏÎ¿Î½Î¿Î¼Î¹ÎºÎ®Ï‚ Ï„Î¹Î¼Î®Ï‚..."></textarea>
        <textarea id="sc2-j" placeholder="Î¥Ï€Î­Ï Î±Î¾Î¹Î¿ÎºÏÎ±Ï„Î¯Î±Ï‚/Î¹ÏƒÏŒÏ„Î·Ï„Î±Ï‚ ÎµÏ…ÎºÎ±Î¹ÏÎ¹ÏÎ½..."></textarea>
      </div>
    </details>

    <div class="btn-row no-print" style="margin-top:1rem;">
      <button class="small secondary" onclick="printScenarios()">ğŸ–¨ï¸ Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ· Î£ÎµÎ½Î±ÏÎ¯Ï‰Î½</button>
    </div>

    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">Debate & Î§ÏÎ¿Î½ÏŒÎ¼ÎµÏ„ÏÎ¿ âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 9: Debate & Î‘Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·</h2>
    
    <div class="timer-container">
      <h3 style="margin-top:0; text-align:center;">â±ï¸ Î§ÏÎ¿Î½ÏŒÎ¼ÎµÏ„ÏÎ¿ ÎŸÎ¼Î¹Î»Î·Ï„Î®</h3>
      <div class="inline-inputs">
        <label>Î›ÎµÏ€Ï„Î¬:</label> <input type="number" id="timer-min" value="2" min="0">
        <label>Î”ÎµÏ…Ï„:</label> <input type="number" id="timer-sec" value="0" min="0" max="59">
      </div>
      <div class="timer-display" id="timer-display">02:00</div>
      <div class="btn-row no-print" style="justify-content:center;">
        <button class="small" onclick="startTimer()">â–¶ ÎˆÎ½Î±ÏÎ¾Î·</button>
        <button class="small secondary" onclick="resetTimer()">â¹ Stop/Reset</button>
      </div>
    </div>

    <h3>ÎšÏÎ¹Ï„Î®ÏÎ¹Î± Î‘Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚ (1-4)</h3>
    <div class="rubric-table">
      <div class="rubric-row rubric-header">
        <div>ÎšÏÎ¹Ï„Î®ÏÎ¹Î¿</div>
        <div class="rubric-col-label kallip">ğŸ¦ ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±</div>
        <div class="rubric-col-label judges">âš–ï¸ Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚</div>
      </div>
      
      <div class="rubric-row">
        <div>Î§ÏÎ®ÏƒÎ· ÏƒÏ„Î¯Ï‡Ï‰Î½ (Ï€.Ï‡. Â«ÏÎ¼Î½Î¿Ï‚ Ï‡ÏÏ…ÏƒÏŒÏ‚Â»)</div>
        <div><input type="number" class="rubric-input" id="rub-k-1" min="1" max="4"></div>
        <div><input type="number" class="rubric-input" id="rub-j-1" min="1" max="4"></div>
      </div>
      
      <div class="rubric-row">
        <div>Î ÎµÎ¹ÏƒÏ„Î¹ÎºÏŒÏ„Î·Ï„Î± ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ·Î¼Î¬Ï„Ï‰Î½</div>
        <div><input type="number" class="rubric-input" id="rub-k-2" min="1" max="4"></div>
        <div><input type="number" class="rubric-input" id="rub-j-2" min="1" max="4"></div>
      </div>

      <div class="rubric-row">
        <div>Î£ÎµÎ²Î±ÏƒÎ¼ÏŒÏ‚ ÎºÎ±Î¹ Î‘Î½Ï„Î¯Î»Î¿Î³Î¿Ï‚</div>
        <div><input type="number" class="rubric-input" id="rub-k-3" min="1" max="4"></div>
        <div><input type="number" class="rubric-input" id="rub-j-3" min="1" max="4"></div>
      </div>
    </div>
    <div id="rubric-result" style="margin-top:0.5rem; font-weight:bold; color:var(--accent);"></div>
    <button class="small secondary no-print" onclick="calcRubric()">Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î’Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±Ï‚</button>

    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="nextStep()">Î¤ÎµÎ»Î¹ÎºÎ® Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯Î± âœ</button>
    </div>
  </section>

  <section class="card step">
    <h2>Î’Î®Î¼Î± 10: Î¤ÎµÎ»Î¹ÎºÎ® Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯Î± & Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î±</h2>
    <p>ÎœÎµÏ„Î¬ Ï„Î¿ debate, Î¬Î»Î»Î±Î¾Îµ Î· Î³Î½ÏÎ¼Î· ÏƒÎ±Ï‚;</p>
    <div class="vote-inputs">
      <div class="vote-box">
        <strong>Î¥Ï€Î­Ï ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±Ï‚ (ÎœÎµÏ„Î¬)</strong>
        <input type="number" id="post-kallip" min="0" value="0">
      </div>
      <div class="vote-box">
        <strong>Î¥Ï€Î­Ï Î•Î»Î»Î±Î½Î¿Î´Î¹ÎºÏÎ½ (ÎœÎµÏ„Î¬)</strong>
        <input type="number" id="post-judges" min="0" value="0">
      </div>
    </div>
    <button class="small no-print" onclick="calcPostVote()">Î£ÏÎ³ÎºÏÎ¹ÏƒÎ· & Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ·</button>
    <div id="post-results" style="margin-top:0.5rem;"></div>
    <div id="post-chart" class="bar-chart"></div>

    <div style="margin-top:2rem; padding:1rem; border:1px dashed var(--border); border-radius:10px; background:#f9f9f9;">
      <h3>ğŸ“Š Î ÏÎ¿Ï†Î¯Î» Î¤Î¬Î¾Î·Ï‚</h3>
      <div style="margin-bottom:1rem;">
        <label style="display:flex; justify-content:space-between; font-weight:600; font-size:0.9rem; margin-bottom:0.3rem;">
          <span>Î‘Ï…ÏƒÏ„Î·ÏÎ® Î™ÏƒÎ¿Î½Î¿Î¼Î¯Î±</span>
          <span>Î‘ÏÎ¹ÏƒÏ„Î¿ÎºÏÎ±Ï„Î¯Î±/Î•Î¾Î±Î¯ÏÎµÏƒÎ·</span>
        </label>
        <input type="range" min="0" max="100" value="50" style="width:100%;">
      </div>
    </div>

    <h3>Î£Ï…Î»Î»Î¿Î³Î¹ÎºÏŒ Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î±</h3>
    <textarea id="conclusion-text" placeholder="Î“ÏÎ¬ÏˆÏ„Îµ ÎµÎ´Ï Ï„Î·Î½ Ï„ÎµÎ»Î¹ÎºÎ® Î±Ï€ÏŒÏ†Î±ÏƒÎ· Ï„Ï‰Î½ Â«ÎÎ­Ï‰Î½ Î•Î»Î»Î±Î½Î¿Î´Î¹ÎºÏÎ½Â»..."></textarea>

    <div class="btn-row no-print">
      <button class="secondary" onclick="prevStep()">âŸµ Î Î¯ÏƒÏ‰</button>
      <button onclick="printAll()">ğŸ–¨ï¸ Î¤ÎµÎ»Î¹ÎºÎ® Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ· Î‘Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½</button>
    </div>
  </section>

</main>

<div id="print-summary"></div>

<footer>
  âœ¨âœï¸ Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±: Î Î±Î½Î±Î³Î¹ÏÏ„Î·Ï‚ Î”ÏŒÎ¼Î²ÏÎ¿Ï‚, Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÏŒÏ‚ Î‘Î³Î³Î»Î¹ÎºÏÎ½-Î˜ÎµÎ±Ï„ÏÎ¿Î»ÏŒÎ³Î¿Ï‚, ÎœÎµ Ï„Î·Î½ Î•Ï€Î¹Ï†ÏÎ»Î±Î¾Î· Î Î±Î½Ï„ÏŒÏ‚ Î”Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î¿Ï‚ âœï¸âœ¨
</footer>

<script>
  /* --- Navigation --- */
  const steps = Array.from(document.querySelectorAll('.step'));
  const indicator = document.getElementById('stepIndicator');
  let currentStep = 0;

  function initDots() {
    indicator.innerHTML = '';
    steps.forEach((_, i) => {
      const dot = document.createElement('div');
      dot.className = 'step-dot' + (i === 0 ? ' active' : '');
      indicator.appendChild(dot);
    });
  }
  
  function showStep(n) {
    if(n < 0 || n >= steps.length) return;
    steps.forEach((s, i) => {
      s.classList.toggle('active', i === n);
      document.querySelectorAll('.step-dot')[i].classList.toggle('active', i === n);
    });
    currentStep = n;
    window.scrollTo({top:0, behavior:'smooth'});
  }
  function nextStep() { showStep(currentStep + 1); }
  function prevStep() { showStep(currentStep - 1); }
  initDots();

  /* --- Dynamic Arguments --- */
  function addArgumentCard(side) {
    const containerId = side === 'kallip' ? 'kallip-arguments' : 'judges-arguments';
    const container = document.getElementById(containerId);
    
    const div = document.createElement('div');
    div.className = 'arg-card';
    div.innerHTML = `
      <div class="arg-card-title">Î•Ï€Î¹Ï‡ÎµÎ¯ÏÎ·Î¼Î±</div>
      <textarea placeholder="Î”Î¹Î±Ï„ÏÏ€Ï‰ÏƒÎ· ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ®Î¼Î±Ï„Î¿Ï‚..." class="arg-text"></textarea>
      <textarea placeholder="Î£Ï„Î®ÏÎ¹Î¾Î· Î±Ï€ÏŒ Ï„Î¿ Ï€Î¿Î¯Î·Î¼Î± (ÏƒÏ„Î¯Ï‡Î¿Ï‚)..." class="arg-source" style="min-height:40px; margin-top:0.3rem;"></textarea>
      <textarea placeholder="Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï„Î¿ ÏƒÎ®Î¼ÎµÏÎ±..." class="arg-modern" style="min-height:40px; margin-top:0.3rem;"></textarea>
    `;
    container.appendChild(div);
  }
  window.addEventListener('DOMContentLoaded', () => {
    addArgumentCard('kallip');
    addArgumentCard('judges');
  });

  /* --- Voting --- */
  let preVoteTotal = 0;
  function calcPreVote() {
    const k = parseInt(document.getElementById('pre-kallip').value)||0;
    const j = parseInt(document.getElementById('pre-judges').value)||0;
    const u = parseInt(document.getElementById('pre-unsure').value)||0;
    preVoteTotal = k + j + u;
    
    const chart = document.getElementById('pre-chart');
    const res = document.getElementById('pre-results');
    chart.innerHTML = '';
    
    if(preVoteTotal===0) { res.innerText='Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÏˆÎ®Ï†Î¿Î¹.'; return; }

    const pk = ((k/preVoteTotal)*100).toFixed(1);
    const pj = ((j/preVoteTotal)*100).toFixed(1);
    const pu = ((u/preVoteTotal)*100).toFixed(1);
    
    res.innerHTML = `Î£ÏÎ½Î¿Î»Î¿: <strong>${preVoteTotal}</strong>. ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±: ${k} (${pk}%), Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚: ${j} (${pj}%), Î‘Î²Î­Î²Î±Î¹Î¿Î¹: ${u} (${pu}%).`;
    chart.appendChild(makeBar('ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±', pk, 'var(--accent)'));
    chart.appendChild(makeBar('Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚', pj, 'var(--accent-alt)'));
    chart.appendChild(makeBar('Î‘Î²Î­Î²Î±Î¹Î¿Î¹', pu, '#90a4ae'));
  }

  function calcPostVote() {
    const k = parseInt(document.getElementById('post-kallip').value)||0;
    const j = parseInt(document.getElementById('post-judges').value)||0;
    const total = k + j;
    const chart = document.getElementById('post-chart');
    const res = document.getElementById('post-results');
    chart.innerHTML = '';

    if(total===0) { res.innerText='Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÏˆÎ®Ï†Î¿Î¹.'; return; }
    const pk = ((k/total)*100).toFixed(1);
    const pj = ((j/total)*100).toFixed(1);
    
    res.innerHTML = `Î£ÏÎ½Î¿Î»Î¿: <strong>${total}</strong>. ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±: ${k} (${pk}%), Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚: ${j} (${pj}%).`;
    chart.appendChild(makeBar('ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ± (Î¤ÎµÎ»Î¹ÎºÏŒ)', pk, 'var(--accent)'));
    chart.appendChild(makeBar('Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚ (Î¤ÎµÎ»Î¹ÎºÏŒ)', pj, 'var(--accent-alt)'));
  }

  function makeBar(label, pct, color) {
    const row = document.createElement('div');
    row.className = 'bar-row';
    row.innerHTML = `<span class="bar-label">${label}</span>
                     <div class="bar-track"><div class="bar-fill" style="width:${pct}%; background:${color}"></div></div>
                     <span style="min-width:40px">${pct}%</span>`;
    return row;
  }

  /* --- Timer --- */
  let timerInterval;
  function startTimer() {
    if(timerInterval) clearInterval(timerInterval);
    let min = parseInt(document.getElementById('timer-min').value)||0;
    let sec = parseInt(document.getElementById('timer-sec').value)||0;
    let totalSec = min*60 + sec;
    const display = document.getElementById('timer-display');
    
    timerInterval = setInterval(() => {
      if(totalSec <= 0) {
        clearInterval(timerInterval);
        display.innerText = "00:00 - Î¤Î•Î›ÎŸÎ£";
        alert("ÎŸ Ï‡ÏÏŒÎ½Î¿Ï‚ Ï„ÎµÎ»ÎµÎ¯Ï‰ÏƒÎµ!");
        return;
      }
      totalSec--;
      let m = Math.floor(totalSec/60);
      let s = totalSec % 60;
      display.innerText = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    }, 1000);
  }
  function resetTimer() {
    if(timerInterval) clearInterval(timerInterval);
    document.getElementById('timer-display').innerText = "00:00";
  }

  /* --- Rubric --- */
  function calcRubric() {
    let kTotal = 0, jTotal = 0;
    for(let i=1; i<=3; i++) {
      kTotal += parseInt(document.getElementById(`rub-k-${i}`).value)||0;
      jTotal += parseInt(document.getElementById(`rub-j-${i}`).value)||0;
    }
    document.getElementById('rubric-result').innerText = `Î£ÏÎ½Î¿Î»Î¿: ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ± ${kTotal}/12 - Î•Î»Î»Î±Î½Î¿Î´Î¯ÎºÎµÏ‚ ${jTotal}/12`;
  }

  /* --- Print Functions --- */
  function getMeta() {
    const group = document.getElementById('meta-group').value || '---';
    const date = document.getElementById('meta-date').value || '---';
    const cls = document.getElementById('meta-class').value || '---';
    return `<p><strong>ÎŸÎ¼Î¬Î´Î±:</strong> ${group} | <strong>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</strong> ${date} | <strong>Î¤Î¬Î¾Î·:</strong> ${cls}</p><hr>`;
  }

  function getArgs(containerId) {
    const cards = document.querySelectorAll(`#${containerId} .arg-card`);
    let listHtml = '';
    cards.forEach(card => {
       const text = card.querySelector('.arg-text').value;
       const source = card.querySelector('.arg-source').value;
       const modern = card.querySelector('.arg-modern').value;
       if(text || source || modern) {
          listHtml += `<li style="margin-bottom:10px;">
             <strong>Î•Ï€Î¹Ï‡ÎµÎ¯ÏÎ·Î¼Î±:</strong> ${text}<br>
             <em>Î£Ï„Î®ÏÎ¹Î¾Î·:</em> ${source}<br>
             <em>Î£Î®Î¼ÎµÏÎ±:</em> ${modern}
          </li>`;
       }
    });
    return listHtml ? `<ul>${listHtml}</ul>` : '<p>Î”ÎµÎ½ ÎºÎ±Ï„Î±Î³ÏÎ¬Ï†Î·ÎºÎ±Î½.</p>';
  }

  function printArguments() {
    const c = document.getElementById('print-summary');
    c.innerHTML = `<h1>Î•Ï€Î¹Ï‡ÎµÎ¹ÏÎ®Î¼Î±Ï„Î±: ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±</h1>${getMeta()}
      <h2>Î¥Ï€Î­Ï ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±Ï‚ (Î‘ÏÎ¹ÏƒÏ„ÎµÎ¯Î±)</h2>${getArgs('kallip-arguments')}
      <h2>Î¥Ï€Î­Ï Î•Î»Î»Î±Î½Î¿Î´Î¹ÎºÏÎ½ (Î™ÏƒÎ¿Î½Î¿Î¼Î¯Î±)</h2>${getArgs('judges-arguments')}`;
    window.print();
  }

  function printScenarios() {
    const c = document.getElementById('print-summary');
    let html = `<h1>Î£ÎµÎ½Î¬ÏÎ¹Î±: ÎÏŒÎ¼Î¿Ï‚ vs Î•Î¾Î±Î¯ÏÎµÏƒÎ·</h1>${getMeta()}`;
    document.querySelectorAll('.scenario').forEach(sc => {
      const title = sc.querySelector('summary').innerText;
      const kText = sc.querySelector('textarea:nth-of-type(1)').value;
      const jText = sc.querySelector('textarea:nth-of-type(2)').value;
      if(kText || jText) {
        html += `<h3>${title}</h3><p><strong>Î¥Ï€Î­Ï Î•Î¾Î±Î¯ÏÎµÏƒÎ·Ï‚:</strong> ${kText}</p><p><strong>Î¥Ï€Î­Ï ÎÏŒÎ¼Î¿Ï…:</strong> ${jText}</p>`;
      }
    });
    c.innerHTML = html;
    window.print();
  }

  function printAll() {
    const c = document.getElementById('print-summary');
    let html = `<h1>Î¤ÎµÎ»Î¹ÎºÎ¬ Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±: ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±</h1>${getMeta()}`;
    
    html += `<h2>Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯ÎµÏ‚</h2>`;
    html += `<p><strong>Î‘ÏÏ‡Î¹ÎºÎ®:</strong> ${document.getElementById('pre-results').innerText}</p>`;
    html += `<p><strong>Î¤ÎµÎ»Î¹ÎºÎ®:</strong> ${document.getElementById('post-results').innerText}</p>`;
    
    html += `<h2>Î£ÏÎ½Î¿ÏˆÎ· Î•Ï€Î¹Ï‡ÎµÎ¹ÏÎ·Î¼Î¬Ï„Ï‰Î½</h2>`;
    html += `<h3>Î¥Ï€Î­Ï ÎšÎ±Î»Î»Î¹Ï€Î¬Ï„ÎµÎ¹ÏÎ±Ï‚</h3>${getArgs('kallip-arguments')}`;
    html += `<h3>Î¥Ï€Î­Ï Î•Î»Î»Î±Î½Î¿Î´Î¹ÎºÏÎ½</h3>${getArgs('judges-arguments')}`;

    const conc = document.getElementById('conclusion-text').value;
    if(conc) html += `<h2>Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î±</h2><p>${conc}</p>`;

    c.innerHTML = html;
    window.print();
  }
</script>

</body>
</html>